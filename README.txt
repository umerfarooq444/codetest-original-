HI,
Thanks for shorlisting me for code test.
There are lots of way to write a test driven code but i chosed to reforming task instead of writting a simple test case. your shared code was a big example of rough coding. lots of unecessary code written as well use of if statements. I have fixed some of repetitive code from the controller however, spending some more time can reduce if statements steps can be performed to reform your controllers are
  1) Single responsibility principle
  2) Relational data or eager loading
  3) Don't repeat yourself (DRY)
  4) Mass assignment
  5) Comment the code properly to explain it to others
  6) Namming conventions PSR standerds.
